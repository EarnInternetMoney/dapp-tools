---
layout: default
---

<h1>dapp</h1>

Build, test, deploy and transact with Ethereum contracts from the comfort of the command-line.

<script type="text/javascript"
        src="https://asciinema.org/a/GsgEuOcXPjcJzLSEs8TekbBLD.js"
        data-autoplay=0
        data-preload=1
        data-rows=20
        data-theme=monokai
        id="asciicast-GsgEuOcXPjcJzLSEs8TekbBLD" async></script>

<h2>Quick Usage</h2>

<pre>
  <strong>$ dapp init</strong>                  bootstrap a new dapp

  <strong>$ dapp build</strong>                 compile the source code
  <strong>$ dapp test &lt;options&gt;</strong>        run the test suite

  <strong>$ dapp install &lt;pkg&gt;</strong>         install a <a href="">dappsys</a> package
  <strong>$ dapp upgrade &lt;pkg&gt;</strong>         upgrade a package
  <strong>$ dapp uninstall &lt;pkg&gt;</strong>       uninstall a package

  <strong>$ dapp create &lt;args&gt;</strong>         deploy a contract
</pre>

<h2>dapp init</h2>
<hr>
Bootstrap a new dapp:

{% highlight bash %}
$ mkdir my-dapp
$ cd my-dapp
$ dapp init
{% endhighlight %}

The <tt>init</tt> command:

<ol>
  <li>Initializes a git repo</li>
  <li>Creates a Makefile for convenience</li>
  <li>Installs the <a href="https://github.com/dapphub/ds-test">ds-test</a> package</li>
  <li>Creates <tt>src/MyDapp.sol</tt> and <tt>src/MyDapp.t.sol</tt> files</li>
  <li>Runs initial <tt>build</tt> and <tt>test</tt> commands</li>
  <li>Commits changes to git</li>
</ol>

{% highlight bash %}
$ ls
Dappfile Makefile lib/      out/      src/
{% endhighlight %}

Files from <tt>src</tt> are compiled to <tt>out/</tt> by the <tt>build</tt> command and the
test package is installed to the <tt>lib/</tt> directory.

<h2>dapp build</h2>
<hr>
Invoke <tt>solc</tt> to compile all code in the <tt>src/</tt> and <tt>lib/</tt>
directories to <tt>out/</tt>

{% highlight bash %}
$ ls -l out

MyDapp.abi
MyDapp.bin
MyDapp.bin-runtime
MyDapp.sol.json

MyDappTest.abi
MyDappTest.bin
MyDappTest.bin-runtime
MyDapp.t.sol.json

DSTest.abi
DSTest.bin
DSTest.bin-runtime
{% endhighlight %}

<h2>dapp test</h2>
<hr>
Run the test suite with <tt>ethrun</tt> and <tt>ds-test</tt>. See
<a href="">ds-test docs</a> for details on how to write native unit
tests in Solidity.

<p>Options:</p>
<pre>
-v          Log failing test events to the command line
-r &lt;Regex&gt;  Only run tests matching a regular expression
</pre>

<h2>dapp create</h2>
<hr>
Deploy a dapp onto the network. Dapp will read the correct bytecode file
from the <tt>out/</tt> directory, bundle it up into a transaction with
encoded constructor parameters, and broadcast it to the network.

<p>
  Lets assume that MyDapp is a trivial token contract that takes an inital
  supply and a name as constructor parameters:
</p>

{% highlight bash %}
pragma solidity ^0.4.0;

contract MyDapp {

  mapping( address => uint ) _balances;
  string public name;

  function MyDapp(uint initial_balance, string name_) {
    _balances[msg.sender] = initial_balance;
    _supply = initial_balance;

    name = name_;
  }
}
{% endhighlight %}

Ensure that an Ethereum client is running and invoke create:

{% highlight bash %}
$ dapp create MyDapp 10000 "MyCoolToken"
+ seth send --create out/MyDapp.bin 'MyDapp(uint256,string)' 10000 MyCoolToken
seth-send: Published transaction with 1688 bytes of calldata.
seth-send: 0x4df5fdad614a88702439b10dd3002adb7869b339413011ba8ac69b4f07d9f10d
seth-send: Waiting for transaction receipt...
seth-send: Transaction included in block .
{% endhighlight %}

See the dapp <a href="https://dapp.readthedocs.io/">developer docs</a> for more detailed guide.

<h2>Quick Install</h2>

{% include install.html %}

See the full <a href="">install instructions</a> for more detailed guide.

<h2>Contributing</h2>

<ul>
  <li>Log issues to our github <a href="https://github.com/dapphub/dapp/issues">issue tracker</a></li>
  <li>Get in touch with us at <a href="https://dapp.chat">dapp.chat</a></li>
</ul>
